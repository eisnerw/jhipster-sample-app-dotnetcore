[
    {
      "id": "category",
      "name": "Category",
      "field": "categories",
      "aggregation": "categories.keyword",
      "query": "categories:*",
      "categoryQuery": "",
      "script": "",
      "domain": "birthdays"
    },
    {
      "id": "birth year",
      "name": "Birth Year",
      "field": "dob",
      "aggregation": "dob",
      "query": "*",
      "categoryQuery": "dob:[{}-01-01 TO {}-12-31]",
      "script": "if (doc['dob'].size() == 0) {return '';}\nString st = doc['dob'].value.getYear().toString();\nreturn st.substring(0, 4);",
      "domain": "birthdays"
    },
    {
      "id": "sign",
      "name": "Sign",
      "field": "sign",
      "aggregation": "sign.keyword",
      "query": "sign:*",
      "categoryQuery": "",
      "script": "",
      "domain": "birthdays"
    },
    {
      "id": "first name",
      "name": "First Name",
      "field": "fname",
      "aggregation": "fname.keyword",
      "query": "fname:*",
      "categoryQuery": "",
      "script": "",
      "domain": "birthdays"
    },
    {
      "id": "sign/birth year",
      "name": "Sign/Birth Year",
      "field": "sign",
      "aggregation": "sign.keyword",
      "query": "sign:*",
      "categoryQuery": "",
      "script": "",
      "domain": "birthdays"
    },
    {
      "id": "sign/birth year.year of birth",
      "name": "Year of Birth",
      "field": "dob",
      "aggregation": "dob",
      "query": "*",
      "categoryQuery": "dob:[{}-01-01 TO {}-12-31]",
      "script": "if (doc['dob'].size() == 0) {return '';}\nString st = doc['dob'].value.getYear().toString();\nreturn st.substring(0, 4);",
      "parentViewId": "sign/birth year",
      "domain": "birthdays"
    }
  ]