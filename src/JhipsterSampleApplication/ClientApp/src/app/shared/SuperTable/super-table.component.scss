:host ::ng-deep {
  .p-button.p-button-text.p-button-rounded.p-button-plain {
    width: 2rem;
    height: 2rem;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;

    .p-button-icon {
      font-size: 10px;
      color: var(--text-color);
    }

    &:hover {
      background: var(--surface-hover);
    }
  }

  .pi {
    font-family: "PrimeIcons" !important;
  }

  .group-count {
    margin-left: 0.5rem;
    color: var(--text-color-secondary, #6c757d);
  }

  .group-toggle-icon {
    font-size: 10px;
  }

  .cell-content {
    display: block;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .header-cell {
    position: relative;
    min-height: 32px;
  }

  .header-text {
    padding-right: 0.5rem;
  }

  .sort-icon {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);

    .p-sortable-column-icon {
      font-size: 10px;
    }
  }

  .filter-button {
    position: absolute;
    right: 0;

    .p-column-filter-menu-button {
      width: 1rem;
      height: 1rem;
      font-size: 10px;
    }
  }
}

:host ::ng-deep .loading-row td {
  border-bottom: 1px solid var(--surface-border, #dee2e6);
  border-left: 1px solid var(--surface-border, #dee2e6);
  border-right: 1px solid var(--surface-border, #dee2e6);
  padding-left: 4px;
}

/* Checkboxes: center vertically; body rows nudged down slightly */
:host ::ng-deep td > p-tablecheckbox,
:host ::ng-deep td > p-tableHeaderCheckbox,
:host ::ng-deep th > div > p-tableHeaderCheckbox {
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Lower body-row checkboxes a touch for visual centering */
/* Nudge body-row checkboxes down slightly (PrimeNG places them a bit high) */
:host ::ng-deep .p-datatable-tbody td p-tablecheckbox .p-checkbox {
  transform: translateY(2px) !important;
}
/* Extra safeguard: nudge the visible box as well in case inner box is measured */
:host ::ng-deep .p-datatable-tbody td p-tablecheckbox .p-checkbox .p-checkbox-box {
  margin-top: 1px !important;
}

/* Vertically center header contents (including header checkbox) */
:host ::ng-deep .header-cell {
  display: flex;
  align-items: center;
}
.st-resize-handle {
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  width: 6px;
  cursor: col-resize;
  user-select: none;
  z-index: 2;
  border-right: 1px solid var(--surface-border, #dee2e6);
}
.st-resize-handle:hover {
  background: rgba(0,0,0,0.06);
}

:host ::ng-deep .header-cell {
  position: relative;
}

:host ::ng-deep .p-datatable thead th {
  position: relative;
}

/* Numeric columns: right-align body, keep header left-aligned */
:host ::ng-deep td.numeric-cell { text-align: right; }
:host ::ng-deep th.numeric-header { text-align: left; }

.st-resizing * {
  cursor: col-resize !important;
  user-select: none !important;
}
