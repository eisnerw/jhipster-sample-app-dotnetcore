:host ::ng-deep {
  .p-button.p-button-text.p-button-rounded.p-button-plain {
    width: 2rem;
    height: 2rem;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;

    .p-button-icon {
      font-size: 10px;
      color: var(--text-color);
    }

    &:hover {
      background: var(--surface-hover);
    }
  }

  .pi {
    font-family: "PrimeIcons" !important;
  }

  .group-count {
    margin-left: 0.5rem;
    color: var(--text-color-secondary, #6c757d);
  }

  .group-toggle-icon {
    font-size: 10px;
  }

  .cell-content {
    display: block;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }

  .header-cell {
    position: relative;
    min-height: 32px;
  }

  .header-text {
    padding-right: 0.5rem;
  }

  .sort-icon {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);

    .p-sortable-column-icon {
      font-size: 10px;
    }
  }

  .filter-button {
    position: absolute;
    right: 0;

    .p-column-filter-menu-button {
      width: 1rem;
      height: 1rem;
      font-size: 10px;
    }
  }

  // Force table to respect column width constraints
  .p-datatable .p-datatable-table {
    table-layout: fixed !important;
  }

  // Force all table cells to respect width constraints and handle overflow
  .p-datatable .p-datatable-tbody > tr > td,
  .p-datatable .p-datatable-thead > tr > th {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 0 !important; // Force width constraint
  }

  // Ensure cell content also respects constraints (but exclude group row containers)
  .p-datatable .p-datatable-tbody > tr > td > *:not([style*="display: flex"]),
  .p-datatable .p-datatable-thead > tr > th > *:not([style*="display: flex"]) {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 100% !important;
    display: block !important;
  }

  // Preserve flex layout for group rows
  .p-datatable .p-datatable-tbody > tr > td > div[style*="display: flex"] {
    display: flex !important;
    align-items: center !important;
    white-space: normal !important;
    overflow: visible !important;
  }

  // Ensure group row children maintain proper inline layout
  .p-datatable .p-datatable-tbody > tr > td > div[style*="display: flex"] > * {
    display: initial !important;
    white-space: normal !important;
    overflow: visible !important;
  }

  // Special handling for buttons and checkboxes - don't apply text constraints
  .p-datatable .p-datatable-tbody > tr > td > .p-button,
  .p-datatable .p-datatable-tbody > tr > td > p-tablecheckbox,
  .p-datatable .p-datatable-thead > tr > th > p-tableHeaderCheckbox {
    display: flex !important;
    white-space: normal !important;
  }
}

:host ::ng-deep .loading-row td {
  border-bottom: 1px solid var(--surface-border, #dee2e6);
  border-left: 1px solid var(--surface-border, #dee2e6);
  border-right: 1px solid var(--surface-border, #dee2e6);
  padding-left: 4px;
}

/* Center checkboxes in table cells and header */
:host ::ng-deep td > p-tablecheckbox,
:host ::ng-deep td > p-tableHeaderCheckbox,
:host ::ng-deep th > div > p-tableHeaderCheckbox {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
}

