<div class="container" style="max-width: 960px; margin: 1rem auto;">
  <h2>{{ title }} {{ entity | titlecase }}</h2>

  <form [formGroup]="form" (ngSubmit)="save()">
    <div class="row" *ngFor="let f of fields">
      <div class="col-12" *ngIf="f.key !== 'id'">
        <label class="form-label" [for]="f.key">{{ f.label }}</label>

        <input *ngIf="f.type === 'string'" class="form-control" [id]="f.key" [formControlName]="f.key" />

        <select *ngIf="f.type === 'category'" class="form-select" [id]="f.key" [formControlName]="f.key">
          <option [ngValue]="null">-- Select {{ f.label }} --</option>
          <option *ngFor="let o of f.options || []" [ngValue]="o.value">{{ o.label }}</option>
        </select>

        <input *ngIf="f.type === 'number'" type="number" class="form-control" [id]="f.key" [formControlName]="f.key" />

        <input *ngIf="f.type === 'date'" type="date" class="form-control" [id]="f.key" [formControlName]="f.key" />

        <div *ngIf="f.type === 'boolean'" class="form-check">
          <input type="checkbox" class="form-check-input" [id]="f.key" [formControlName]="f.key" />
        </div>
      </div>
    </div>

    <div class="mt-3 d-flex gap-2">
      <button type="submit" class="btn btn-primary" [disabled]="isSaving">Save</button>
      <button type="button" class="btn btn-secondary" (click)="cancel()">Cancel</button>
      <button *ngIf="id" type="button" class="btn btn-danger ms-auto" (click)="delete()">Delete</button>
    </div>
  </form>
</div>
