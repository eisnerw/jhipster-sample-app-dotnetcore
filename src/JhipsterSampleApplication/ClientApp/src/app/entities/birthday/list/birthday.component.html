<div style="height: calc(100vh - 174px); display: flex; flex-direction: column;">
  <h2 id="page-heading" data-cy="BirthdayHeading">
    <span>Birthdays</span>

    <div class="d-flex justify-content-end">
      <button class="btn btn-info me-2" (click)="refreshData()" [disabled]="(dataLoader.loading$ | async)">
        <fa-icon icon="sync" [spin]="(dataLoader.loading$ | async)"></fa-icon>
        <span>Refresh List</span>
      </button>

      <button class="btn btn-primary" (click)="toggleViewMode()">
        <fa-icon icon="eye"></fa-icon>
        <span>{{ viewMode === 'grid' ? 'Group View' : 'Grid View' }}</span>
      </button>

      <button
        id="jh-create-entity"
        data-cy="entityCreateButton"
        class="btn btn-primary jh-create-entity create-birthday ms-2"
        [routerLink]="['/birthday/new']"
      >
        <fa-icon icon="plus"></fa-icon>
        <span>Create a new Birthday</span>
      </button>
    </div>
  </h2>

  <jhi-alert-error></jhi-alert-error>
  <jhi-alert></jhi-alert>

  <div class="table-responsive" style="flex: 1; min-height: 0">
    <super-table
      class="grid-table"
      #superTable
      [dataLoader]="dataLoader"
      [columns]="columns"
      [superTableParent]="this"
      [resizableColumns]="true"
      [scrollable]="true"
      scrollHeight="flex"
      [mode]="viewMode"
      [groups]="groups$ | async"
      [groupQuery]="groupQuery.bind(this)"
      (selectionChange)="onCheckboxChange()"
      (onContextMenuSelect)="setMenu($event.data)"
      (contextMenuSelectionChange)="onContextMenuSelect($event)"
      (onSort)="onHeaderSort($event)"
      (onFilter)="onHeaderFilter($event)"
      (onColResize)="onHeaderColResize($event)"
      [expandedRowTemplate]="expandedRow"
    ></super-table>
  </div>

  <ng-template #expandedRow let-rowData>
    <tr>
      <td [attr.colspan]="columns.length + 1">
        <h5>Details for {{ rowData.lname }}, {{ rowData.fname }}</h5>
        <!-- Add more details as needed -->
        <p>Date of Birth: {{ rowData.dob | date:'longDate' }}</p>
        <p>Sign: {{ rowData.sign }}</p>
      </td>
    </tr>
  </ng-template>


  <p-contextMenu #contextMenu [model]="menuItems" (onShow)="onMenuShow($event, 'context')"></p-contextMenu>

  <p-dialog [(visible)]="bDisplaySearchDialog" [modal]="true" header="Search Birthdays">
    <!-- Search dialog content -->
  </p-dialog>
</div> 