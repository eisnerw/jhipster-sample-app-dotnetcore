<div style="height: calc(100vh - 174px); overflow: auto">
  <style>
    ::ng-deep .p-datatable .p-datatable-tbody > tr {
      min-height: 22px !important;
      line-height: 22px !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td {
      padding: 0 !important;
      min-height: 22px !important;
      line-height: 22px !important;
      border-width: 0 !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > * {
      line-height: 22px !important;
      min-height: 22px !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td:first-child {
      padding: 0 !important;
      margin: 0 !important;
      min-height: 22px !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td:first-child > div {
      min-height: 22px !important;
      line-height: 22px !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-button {
      width: 22px !important;
      height: 22px !important;
      min-height: 22px !important;
      max-height: 22px !important;
      padding: 0 !important;
      margin: 0 !important;
      line-height: 22px !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-button .p-button-icon {
      font-size: 12px !important;
      line-height: 22px !important;
      height: 22px !important;
      width: 22px !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-button .p-button-label {
      padding: 0 !important;
      margin: 0 !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-element {
      margin: 0 !important;
      padding: 0 !important;
      line-height: 22px !important;
      display: inline-block !important;
      vertical-align: middle !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-element > * {
      margin: 0 !important;
      padding: 0 !important;
      line-height: 22px !important;
      display: inline-block !important;
      vertical-align: middle !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-datatable-row-expansion {
      height: auto !important;
      min-height: 22px !important;
      max-height: none !important;
      padding: 0.5rem !important;
    }
    ::ng-deep .p-datatable .p-datatable-tbody > tr > td > .p-datatable-row-expansion > * {
      margin: 0 !important;
      padding: 0 !important;
      line-height: 22px !important;
    }
    ::ng-deep .p-checkbox {
      width: 16px !important;
      height: 16px !important;
      margin: 0 !important;
      padding: 0 !important;
      min-height: 16px !important;
      max-height: 16px !important;
      position: relative !important;
      top: -3px !important;
    }
    ::ng-deep .p-checkbox .p-checkbox-box {
      width: 16px !important;
      height: 16px !important;
      margin: 0 !important;
      padding: 0 !important;
      min-height: 16px !important;
      max-height: 16px !important;
    }
    ::ng-deep .p-checkbox .p-checkbox-icon {
      font-size: 12px !important;
      margin: 0 !important;
      padding: 0 !important;
      line-height: 12px !important;
      height: 12px !important;
    }
    ::ng-deep .p-checkbox .p-checkbox-input {
      height: 9.6px !important;
      border-top-width: 0 !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row {
      height: 32px !important;
      line-height: 32px !important;
      min-height: 32px !important;
      max-height: 32px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th {
      padding: 0 !important;
      height: 32px !important;
      line-height: 32px !important;
      min-height: 32px !important;
      max-height: 32px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th > * {
      line-height: 32px !important;
      height: 32px !important;
      min-height: 32px !important;
      max-height: 32px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th:first-child {
      padding: 0 !important;
      margin: 0 !important;
      height: 32px !important;
      min-height: 32px !important;
      max-height: 32px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th:first-child > div {
      height: 32px !important;
      min-height: 32px !important;
      max-height: 32px !important;
      line-height: 32px !important;
      padding: 0 !important;
      margin: 0 !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th:first-child .p-checkbox {
      width: 16px !important;
      height: 16px !important;
      margin: 0 !important;
      padding: 0 !important;
      min-height: 16px !important;
      max-height: 16px !important;
      position: relative !important;
      top: -3px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th:first-child .p-checkbox .p-checkbox-box {
      width: 16px !important;
      height: 16px !important;
      margin: 0 !important;
      padding: 0 !important;
      min-height: 16px !important;
      max-height: 16px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th:first-child .p-checkbox .p-checkbox-icon {
      font-size: 12px !important;
      margin: 0 !important;
      padding: 0 !important;
      line-height: 12px !important;
      height: 12px !important;
    }
    ::ng-deep .p-datatable .p-datatable-thead > tr.header-row > th:first-child .p-checkbox .p-checkbox-input {
      height: 9.6px !important;
      border-top-width: 0 !important;
    }
  </style>
  <h2 id="page-heading" data-cy="BirthdayHeading">
    <span>Birthdays</span>

    <div class="d-flex justify-content-end">
      <button class="btn btn-info me-2" (click)="refreshData()" [disabled]="(dataLoader.loading$ | async)">
        <fa-icon icon="sync" [spin]="(dataLoader.loading$ | async)"></fa-icon>
        <span>Refresh List</span>
      </button>

      <button class="btn btn-primary" (click)="viewMode = viewMode === 'grid' ? 'group' : 'grid'">
        <fa-icon icon="eye"></fa-icon>
        <span>{{ viewMode === 'grid' ? 'Group View' : 'Grid View' }}</span>
      </button>

      <button
        id="jh-create-entity"
        data-cy="entityCreateButton"
        class="btn btn-primary jh-create-entity create-birthday ms-2"
        [routerLink]="['/birthday/new']"
      >
        <fa-icon icon="plus"></fa-icon>
        <span>Create a new Birthday</span>
      </button>
    </div>
  </h2>

  <jhi-alert-error></jhi-alert-error>
  <jhi-alert></jhi-alert>

  <div class="table-responsive">
    <super-table
      *ngIf="viewMode === 'grid'"
      [dataLoader]="dataLoader"
      [columns]="columns"
      [superTableParent]="this"
      [expandedRowTemplate]="expandedRowTemplate"
      (selectionChange)="onCheckboxChange()"
      (onContextMenuSelect)="setMenu($event.data)"
      (contextMenuSelectionChange)="onContextMenuSelect($event)"
    ></super-table>
  </div>

  <ng-template #expandedRow let-rowData>
    <tr>
      <td [attr.colspan]="columns.length + 1">
        <h5>Details for {{ rowData.lname }}, {{ rowData.fname }}</h5>
        <!-- Add more details as needed -->
        <p>Date of Birth: {{ rowData.dob | date:'longDate' }}</p>
        <p>Sign: {{ rowData.sign }}</p>
      </td>
    </tr>
  </ng-template>

  <div class="table-responsive" *ngIf="viewMode === 'group'">
    <div *ngFor="let groupName of (groups$ | async)">
      <div class="group-header" (click)="onGroupToggle(groupName)">
        <span [class]="isGroupExpanded(groupName) ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></span>
        {{ groupName }}
      </div>
      <div *ngIf="isGroupExpanded(groupName)">
        <jhi-birthday-group-detail [groupName]="groupName" [columns]="columns" [parent]="this"></jhi-birthday-group-detail>
      </div>
    </div>
  </div>
  <p-contextMenu #contextMenu [model]="menuItems" (onShow)="onMenuShow($event, 'context')"></p-contextMenu>

  <p-dialog [(visible)]="bDisplaySearchDialog" [modal]="true" header="Search Birthdays">
    <!-- Search dialog content -->
  </p-dialog>
</div> 