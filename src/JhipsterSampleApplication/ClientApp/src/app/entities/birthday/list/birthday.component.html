<div style="height: calc(100vh - 174px); display: flex; flex-direction: column;">
  <h2 id="page-heading" data-cy="BirthdayHeading" class="d-flex align-items-center gap-2">
    <span>Birthdays...</span>
    <lib-query-input
      [(query)]="currentQuery"
      (queryChange)="onQueryChange($event)"
      placeholder="click search icon for widget or click to edit">
    </lib-query-input>
    <div class="d-flex ms-auto">
      <button class="btn btn-info me-2" (click)="refreshData()" [disabled]="(dataLoader.loading$ | async)">
        <fa-icon icon="sync" [spin]="(dataLoader.loading$ | async)"></fa-icon>
        <span>Refresh List</span>
      </button>

      <div class="d-flex align-items-center ms-2">
        <select class="form-select w-auto" [(ngModel)]="viewName" (ngModelChange)="onViewChange($event)">
          <option [ngValue]="null">Select a view</option>
          <option *ngFor="let v of views" [ngValue]="v.value">{{ v.label }}</option>
        </select>
        <button
          *ngIf="viewName"
          type="button"
          class="btn btn-link p-0 ms-1"
          aria-label="Clear selected view"
          (click)="onViewChange(null)"
        >
          <fa-icon icon="times"></fa-icon>
        </button>
      </div>

      <div class="form-check ms-2" style="font-size: 1rem; display: flex; align-items: center; font-weight: 400;">
        <input
          id="showRowNumbers"
          type="checkbox"
          class="form-check-input"
          [(ngModel)]="showRowNumbers"
        />
        <label for="showRowNumbers" class="form-check-label">Show row numbers</label>
      </div>

      <button
        id="jh-create-entity"
        data-cy="entityCreateButton"
        class="btn btn-primary jh-create-entity create-birthday ms-2"
        [routerLink]="['/birthday/new']"
      >
        <fa-icon icon="plus"></fa-icon>
        <span>Create a new Birthday</span>
      </button>
    </div>
  </h2>

  <jhi-alert-error></jhi-alert-error>
  <jhi-alert></jhi-alert>

  <div class="table-responsive" style="flex: 1; min-height: 0">
    <super-table
      #superTable
      [dataLoader]="dataLoader"
      [columns]="columns"
      [mode]="viewMode"
      [groups]="groups"
      [groupQuery]="groupQuery.bind(this)"
      [superTableParent]="null"
      [resizableColumns]="true"
      [scrollable]="true"
      scrollHeight="flex"
      [showRowNumbers]="showRowNumbers"
      (selectionChange)="onCheckboxChange()"
      (onContextMenuSelect)="setMenu($event.data)"
      (contextMenuSelectionChange)="onContextMenuSelect($event)"
      [expandedRowTemplate]="expandedRow"
    ></super-table>
  </div>

  <ng-template #expandedRow let-rowData>
    <tr>
      <td [attr.colspan]="columns.length + 1">
        <h5>Details for {{ rowData.lname }}, {{ rowData.fname }}</h5>
        <!-- Add more details as needed -->
        <p>Date of Birth: {{ rowData.dob | date:'longDate' }}</p>
        <p>Sign: {{ rowData.sign }}</p>
      </td>
    </tr>
  </ng-template>



  <p-contextMenu #contextMenu [model]="menuItems" (onShow)="onMenuShow($event, 'context')"></p-contextMenu>

  <p-dialog [(visible)]="bDisplaySearchDialog" [modal]="true" header="Search Birthdays">
    <!-- Search dialog content -->
  </p-dialog>
</div> 